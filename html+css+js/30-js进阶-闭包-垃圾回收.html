<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>无标题文档</title>
</head>
<body>

<script>

  //最简单的闭包 lvl 0
//  function foo(x) {
//    var tmp = 3;
//    return function (y) {
//      console.log(x + y + (++tmp));
//    }
//  }
//  var bar = foo(2); // bar 现在是一个闭包
//   bar(10);
//   bar(10);
  // bar(10);

  // lvl 1
//  function foo(x) {
//    var tmp = 3;
//    return function (y) {
//      console.log(x + y + ++tmp);
//      x.memb = x.memb ? x.memb + 1 : 1;
//      console.log(x.memb);
//    }
//  }
//  var age = new Number(2);
//  var bar = foo(age); // bar 现在是一个引用了age的闭包
  // bar(10);
  // bar(10);
  // bar(10);
  // console.log(age);


  //实际案例1 循环index传值
//  var oli = document.getElementsByTagName('li');
//  var i;
//  for(i = 0;i < 5;i++){
//    oli[i].onclick = (function(num){
//      var a = num; // 为了说明问题
//      return function(){
//        console.log(a);
//      }
//    })(i);
//  }
  //console.log(i); // 5

  //实际案例2 实现封装/模块化代码 对外隐藏内部变量
  // var Person = function(){
  //     //变量作用域为函数内部，外部无法访问
  //     var name = "default";

  //     return {
  //        getName : function(){
  //            return name;
  //        },
  //        setName : function(newName){
  //            name = newName;
  //        }
  //     }
  // }();

  // console.log(Person.name);//直接访问，结果为undefined
  // console.log(Person.getName());  //default
  // Person.setName("jozo");
  // console.log(Person.getName());  //jozo


</script>


</body>
</html>
